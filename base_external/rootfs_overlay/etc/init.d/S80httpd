#!/bin/sh
DAEMON=/usr/sbin/httpd
DOCROOT=/www

start() {
  [ -d "$DOCROOT" ] || mkdir -p "$DOCROOT"
  # Let httpd daemonize itself (no -f)
  "$DAEMON" -h "$DOCROOT" -p 80
}

stop() {
  killall httpd 2>/dev/null || true
}

status() {
  pidof httpd >/dev/null && echo running || { echo stopped; exit 1; }
}

# Default to "start" if $1 is empty
action="${1:-start}"
case "$action" in
  start)   start ;;
  stop)    stop ;;
  restart) stop; start ;;
  status)  status ;;
  *) echo "usage: $0 {start|stop|restart|status}"; exit 1 ;;
esac
exit 0